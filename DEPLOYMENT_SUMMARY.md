# ğŸš€ éƒ¨ç½²æ€»ç»“

## âœ… éƒ¨ç½²å®Œæˆæ—¶é—´
**2025-01-XX**

## ğŸ“‹ éƒ¨ç½²å†…å®¹

### 1. ä»£ç æ›´æ–°
- âœ… é›†æˆ A2E.ai API æœåŠ¡
- âœ… æ·»åŠ  MyWorks å’Œ Settings é¡µé¢
- âœ… ä¿®å¤ Google OAuth Client ID ç¡¬ç¼–ç é—®é¢˜
- âœ… ä¿®å¤æ‹¼å†™é”™è¯¯ï¼ˆMaterMark â†’ Watermarkï¼‰
- âœ… ä¿®å¤è·¯ç”±é—®é¢˜
- âœ… ä¼˜åŒ– Layout ç»„ä»¶ç”¨æˆ·ä½“éªŒ

### 2. å‰ç«¯éƒ¨ç½²
- âœ… ä»£ç å·²æ¨é€åˆ° GitHub
- âœ… æœåŠ¡å™¨å·²æ‹‰å–æœ€æ–°ä»£ç 
- âœ… å‰ç«¯å·²æ„å»ºå¹¶éƒ¨ç½²åˆ° `/var/www/honeyai`
- âœ… Nginx å·²é‡å¯

### 3. åç«¯éƒ¨ç½²
- âœ… åç«¯ä»£ç å·²æ›´æ–°
- âœ… ä¾èµ–å·²å®‰è£…ï¼ˆåŒ…æ‹¬ node-fetchï¼‰
- âœ… PM2 å·²å®‰è£…å¹¶é…ç½®
- âœ… åç«¯æœåŠ¡å·²å¯åŠ¨ï¼ˆclingai-api å’Œ clingai-workerï¼‰

### 4. ç¯å¢ƒå˜é‡é…ç½®
- âœ… `.env` æ–‡ä»¶å·²åˆ›å»ºå¹¶é…ç½®
- âœ… A2E API Token å·²é…ç½®
- âœ… A2E User ID å·²é…ç½®
- âœ… A2E Base URL å·²é…ç½®

## ğŸ”§ æœåŠ¡å™¨é…ç½®

### æœåŠ¡å™¨ä¿¡æ¯
- **IP**: 173.255.193.131
- **ç”¨æˆ·**: root
- **é¡¹ç›®ç›®å½•**: /root/honeyai
- **éƒ¨ç½²ç›®å½•**: /var/www/honeyai
- **åç«¯ç›®å½•**: /root/honeyai/server

### æœåŠ¡çŠ¶æ€
```
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name              â”‚ status  â”‚ cpu      â”‚ mem      â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0  â”‚ clingai-api       â”‚ online  â”‚ 0%       â”‚ 85.9mb   â”‚
â”‚ 1  â”‚ clingai-worker    â”‚ online  â”‚ 0%       â”‚ 81.4mb   â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç¯å¢ƒå˜é‡ï¼ˆå·²é…ç½®ï¼‰
```bash
PORT=3001
NODE_ENV=production
A2E_API_TOKEN=sk_eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
A2E_USER_ID=69522aad24a43f00606e3e2c
A2E_BASE_URL=https://video.a2e.ai
```

## ğŸŒ è®¿é—®åœ°å€

- **å‰ç«¯**: http://173.255.193.131
- **åç«¯ API**: http://173.255.193.131:3001/api
- **å¥åº·æ£€æŸ¥**: http://173.255.193.131:3001/api/health

## ğŸ“ å¸¸ç”¨å‘½ä»¤

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€
```bash
ssh root@173.255.193.131 "pm2 list"
```

### æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
ssh root@173.255.193.131 "pm2 logs"

# æŸ¥çœ‹ API æ—¥å¿—
ssh root@173.255.193.131 "pm2 logs clingai-api"

# æŸ¥çœ‹ Worker æ—¥å¿—
ssh root@173.255.193.131 "pm2 logs clingai-worker"
```

### é‡å¯æœåŠ¡
```bash
ssh root@173.255.193.131 "pm2 restart all"
```

### é‡å¯å•ä¸ªæœåŠ¡
```bash
ssh root@173.255.193.131 "pm2 restart clingai-api"
ssh root@173.255.193.131 "pm2 restart clingai-worker"
```

### æŸ¥çœ‹ç¯å¢ƒå˜é‡
```bash
ssh root@173.255.193.131 "cat /root/honeyai/server/.env"
```

### æ›´æ–°ä»£ç å¹¶é‡æ–°éƒ¨ç½²
```bash
# åœ¨æœ¬åœ°è¿è¡Œ
./deploy-full.sh
```

## ğŸ” éªŒè¯éƒ¨ç½²

### 1. æ£€æŸ¥å‰ç«¯
è®¿é—® http://173.255.193.131 åº”è¯¥èƒ½çœ‹åˆ°ç½‘ç«™æ­£å¸¸è¿è¡Œã€‚

### 2. æ£€æŸ¥åç«¯ API
```bash
curl http://173.255.193.131:3001/api/health
```

åº”è¯¥è¿”å›ï¼š
```json
{
  "status": "ok",
  "version": "2.0.0",
  "timestamp": "..."
}
```

### 3. æ£€æŸ¥ A2E æœåŠ¡
æŸ¥çœ‹åç«¯æ—¥å¿—ï¼Œåº”è¯¥èƒ½çœ‹åˆ° A2E æœåŠ¡å·²å¯ç”¨ï¼š
```bash
ssh root@173.255.193.131 "pm2 logs clingai-api | grep A2E"
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **PM2 å¼€æœºè‡ªå¯**: å·²é…ç½®ï¼ŒæœåŠ¡å™¨é‡å¯åæœåŠ¡ä¼šè‡ªåŠ¨å¯åŠ¨
2. **ç¯å¢ƒå˜é‡**: `.env` æ–‡ä»¶åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œè¯·å‹¿æäº¤åˆ° Git
3. **æ—¥å¿—ç®¡ç†**: PM2 ä¼šè‡ªåŠ¨ç®¡ç†æ—¥å¿—ï¼Œå®šæœŸæ¸…ç†æ—§æ—¥å¿—
4. **ç›‘æ§**: å»ºè®®å®šæœŸæ£€æŸ¥æœåŠ¡çŠ¶æ€å’Œæ—¥å¿—

## ğŸ› æ•…éšœæ’æŸ¥

### æœåŠ¡æ— æ³•å¯åŠ¨
```bash
# æ£€æŸ¥æ—¥å¿—
ssh root@173.255.193.131 "pm2 logs --err"

# æ£€æŸ¥ç¯å¢ƒå˜é‡
ssh root@173.255.193.131 "cat /root/honeyai/server/.env"

# æ‰‹åŠ¨å¯åŠ¨æµ‹è¯•
ssh root@173.255.193.131 "cd /root/honeyai/server && node index.js"
```

### API æ— æ³•è®¿é—®
```bash
# æ£€æŸ¥ç«¯å£æ˜¯å¦å¼€æ”¾
ssh root@173.255.193.131 "netstat -tlnp | grep 3001"

# æ£€æŸ¥é˜²ç«å¢™
ssh root@173.255.193.131 "ufw status"
```

### A2E API è°ƒç”¨å¤±è´¥
```bash
# æ£€æŸ¥ A2E é…ç½®
ssh root@173.255.193.131 "cat /root/honeyai/server/.env | grep A2E"

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
ssh root@173.255.193.131 "pm2 logs clingai-worker | grep A2E"
```

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
2. æ£€æŸ¥æœåŠ¡çŠ¶æ€
3. å‚è€ƒ [A2E_INTEGRATION.md](./A2E_INTEGRATION.md) äº†è§£ A2E API é…ç½®

## ğŸ‰ éƒ¨ç½²æˆåŠŸï¼

æ‰€æœ‰æœåŠ¡å·²æ­£å¸¸è¿è¡Œï¼Œå¯ä»¥å¼€å§‹ä½¿ç”¨æ–°åŠŸèƒ½äº†ï¼

